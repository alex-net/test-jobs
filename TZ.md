# ТЗ на выполнение задания "Сервис коротких ссылок + QR"


- Создать проект на использующий следующий стек: Yii2, MySQL/MariaDB, jQuery, Bootstrap
- При переходе на главную страницу проекта мы видим форму Input, в которую подставляем любую ссылку.
- Рядом кнопка "ОК", при нажатии на которую сервис должен проверить (отвалидировать):
    * Валидность URL ссылки (http:: https ну и далее все атрибуты)
    * Доступность данного ресурса (если не доступен выводим: Данный URL не доступен)
- Если проверка валидности и доступности пройдена - сохраняем ссылку в базе и формируем короткую ссылку + QR кода
- Пользователю после нажатия отдаем либо сообщение об ошибке, либо QR код и рядом с ним короткую ссылку (все это происходит через Ajax без перезагрузки страницы)
- QR - при наведении камеры телефона на QR код: должна генерироваться ссылка и ее можно открыть (контроллер перехода по ссылки делаем отдельно)
- При попытке перейти по короткой ссылке - происходит редирект на необходимый сайт (заложенный при генерации ссылки)
- При переходе по ссылки в базе делаем запись, с какого внешнего IP перешел пользователь по этой ссылке (логи) + счетчик, который показывает сколько было переходов

## Условия

- Структура базы  - на ваше усмотрение
- Миграции - на ваше усмотрение (если нет, нужен будет dump и версия базы базы)
- Версии пакетов - на ваше усмотрение
- Тип проекта – Basic
- Проект не должен использовать API сторонних серверов
- Так же необходима инструкция, как развернуть проект и заставить его работать


## Инструкция

Для запуска проекта на локальном компьютере с использованием *Docker* нужно:

1. Используя *git* скачать репозтарий. (комнада ``` git clone ``` )
1. Перейти в каталог репозитария.
1. Настроить переменные окружения проекта в файле **.env** взяв за основу наполнение файла **.env.example**
1. Комадой ``` docker-compose up -d ``` произвести запуск проекта
1. Зайти в контейнер **php** командой ``` docker compose exec -ti php sh ```
1. Применить миграции проекта ``` ./yii migrate ```
1. Перейти в браузер по адресу **localhost:port** (port - задаётся через окружение среды **NGINX_PORT**)

На проекте, так же реализована пара админских страниц для просмотра списка добавленных ссылок, и статистики перехода по ним. Доступ к этим страницам осуществляется от пользователя **admin** с паролем **admin**. Добавлен пункт мюню "Ссылки", который ведёт на страницу со всеми ссылками.


